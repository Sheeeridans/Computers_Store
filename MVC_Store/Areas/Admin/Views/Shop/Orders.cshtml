@model IEnumerable<MVC_Store.Areas.Admin.Models.ViewModels.Shop.OrdersForAdminVM>

@{
    ViewBag.Title = "Заказы";
}

<h2>Заказы</h2>

@if(!Model.Any())
            {
                <h2 class="text-center">Заказов пока нет</h2>
            }
            else
            {

            
<table class="table">
    <tr>
        <th>
            Номер заказа
        </th>
        <th>
            Пользователь
        </th>
        <th>
            Детали заказа
        </th>
        <th>
            Дата создания
        </th>
        <th>
            Общая стоимость
        </th>
    </tr>

@foreach (var item in Model) {
<tr>
    <td>
        @Html.DisplayFor(modelItem => item.OrderNumber)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.UserName)
    </td>
    <td>
        @foreach (var item2 in item.ProductsAndQty)
        {
            @item2.Key @:x @item2.Value <br />
        }
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.CreatedAt)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.Total) руб.
    </td>
</tr>
}

</table>
}
